(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group-components-postDetail~pages-group-post-detailPost"],{3649:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".download[data-v-4e40fb61]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:20px;background:#fff;border-radius:15px}.download-button[data-v-4e40fb61]{margin-top:20px;width:132px;height:36px;text-align:center;line-height:36px;color:#fff;background:#ffa926;-webkit-box-shadow:0 3px 6px rgba(190,176,153,.16);box-shadow:0 3px 6px rgba(190,176,153,.16);opacity:1}",""]),e.exports=t},"413b":function(e,t,n){"use strict";n.r(t);var i=n("4663"),a=n("d05c");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("4572");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"4e40fb61",null,!1,i["a"],s);t["default"]=c.exports},4572:function(e,t,n){"use strict";var i=n("4679"),a=n.n(i);a.a},4663:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={customPopup:n("f181").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("custom-popup",{ref:"downloadPopup",attrs:{type:"center"}},[n("v-uni-view",{staticClass:"download"},[n("v-uni-text",[e._v("演绎Ta的故事，找到你的朋友")]),n("v-uni-view",{staticClass:"download-button"},[e._v("立即下载")])],1)],1)],1)},o=[]},4679:function(e,t,n){var i=n("3649");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("53e94f92",i,!0,{sourceMap:!1,shadowMode:!1})},"5b09":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={customPopup:n("f181").default,downloadTips:n("413b").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",{staticClass:"header"},[e._v("全部评论")]),e.commentList.length?[e._l(e.commentListComputed,(function(t,i){return n("v-uni-view",{key:i,staticClass:"main"},[n("v-uni-image",{staticClass:"main-left",attrs:{src:t.user.avatar?t.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"main-content",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.commentParents(t)}}},[n("v-uni-view",{staticClass:"main-content-user"},[n("v-uni-view",[t.user?n("v-uni-text",{staticClass:"name"},[e._v(e._s(t.user.user_name))]):e._e(),n("span",{staticClass:"time"},[e._v(e._s(e._f("formatDate")(t.created_at)))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"list-action-item",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.commentLike(i,t)}}},[n("v-uni-image",{staticClass:"list-action-icon",attrs:{src:t.isLike?"/static/icon_like_hl.png":"/static/icon_like.png"}}),t.likeListLength>0?n("v-uni-view",{staticClass:" list-action-num"},[e._v(e._s(t.likeListLength))]):e._e()],1)],1)],1),n("v-uni-view",{staticClass:"main-content-detial"},[e._v(e._s(t.content))]),e._l(t.ownerComment,(function(a,o){return n("v-uni-view",{key:o,staticClass:"main-content-reply",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.toggle(t,i)}}},[n("v-uni-text",{staticClass:"reply-name"},[e._v(e._s(a.user.user_name))]),n("v-uni-text",{staticClass:"reply-content"},[e._v(e._s(a.content))])],1)})),t.children.length?[t.children.length==t.ownerComment.length?void 0:[n("v-uni-view",{staticClass:"main-content-total",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.toggle(t,i)}}},[e._v("共"+e._s(t.children.length)+"条回复")])]]:e._e()],2)],1)})),n("v-uni-view",{staticClass:"comment-total",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.downloadApp.apply(void 0,arguments)}}},[e._v("查看全部"+e._s(e.total)+"条回复")])]:[n("v-uni-view",{staticClass:"empty"},[e._v("快来发表你的评论吧")])],n("custom-popup",{ref:"popup",attrs:{type:e.type,animation:!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.popupChange.apply(void 0,arguments)}}},[e.selcetComment&&e.selcetComment.user?n("v-uni-view",{staticClass:"popup-content"},[n("v-uni-view",{staticClass:"owner"},[n("v-uni-image",{staticClass:"owner-left",attrs:{src:e.selcetComment.user.avatar?e.selcetComment.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"owner-content"},[n("v-uni-view",{staticClass:"owner-content-user"},[n("v-uni-view",[n("v-uni-text",{staticClass:"name"},[e._v(e._s(e.selcetComment.user.user_name))]),n("span",{staticClass:"time"},[e._v(e._s(e._f("formatDate")(e.selcetComment.created_at)))])],1),n("v-uni-view",{staticClass:"action"})],1),n("v-uni-view",{staticClass:"owner-content-detial"},[e._v(e._s(e.selcetComment.content))])],1)],1),n("v-uni-view",{staticClass:"owner-header"},[e._v("全部回复")]),e._l(e.selcetComment.children,(function(t,i){return n("v-uni-view",{key:i,staticClass:"main",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.commentParents(t)}}},[n("v-uni-image",{staticClass:"main-left",attrs:{src:t.user.avatar?t.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"main-content"},[n("v-uni-view",{staticClass:"main-content-user"},[n("v-uni-view",[n("v-uni-text",{staticClass:"name"},[e._v(e._s(t.user.user_name))]),n("span",{staticClass:"time"},[e._v(e._s(e._f("formatDate")(t.created_at)))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"list-action-item",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.commentLike(i,t)}}},[n("v-uni-image",{staticClass:"list-action-icon",attrs:{src:t.isLike?"/static/icon_like_hl.png":"/static/icon_like.png"}}),n("v-uni-view",{staticClass:" list-action-num"},[e._v(e._s(t.likeListLength))])],1)],1)],1),n("v-uni-view",{staticClass:"main-content-detial"},[t.reply&&t.p_comment_id!==e.selcetComment.comment_id?[e._v("回复@"+e._s(t.reply.user_name)+":")]:e._e(),e._v(e._s(t.content))],2)],1)],1)}))],2):e._e()],1),n("v-uni-view",{staticClass:"download-footer"},[e._v("剧个本APP内打开")]),n("download-tips",{ref:"download"})],2)},o=[]},6554:function(e,t,n){"use strict";n.r(t);var i=n("5b09"),a=n("8550");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("f1d5");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"1e50e81e",null,!1,i["a"],s);t["default"]=c.exports},"6c90":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("f181")),o={components:{customPopup:a.default},methods:{open:function(){this.$refs.downloadPopup.open()}}};t.default=o},"820d":function(e,t,n){var i=n("b5f7");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("28084c19",i,!0,{sourceMap:!1,shadowMode:!1})},8550:function(e,t,n){"use strict";n.r(t);var i=n("8cea"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},"8cea":function(e,t,n){"use strict";n("7db0"),n("4160"),n("d81d"),n("a9e3"),n("498a"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{total:{type:Number,default:0},isMembers:{type:Boolean},commentList:{type:Array,default:[]},postData:{type:Object}},data:function(){return{isPopup:!1,isFocus:!1,isCommentParent:!1,placeholder:"发表评论...",type:"bottom",commentContent:"",parentId:"",selcetComment:null,postInfo:uni.getStorageSync("detailPost").data,userId:uni.getStorageSync("userInfo").user_id,commentParent:null,lastTime:0}},computed:{commentListComputed:function(){var e=this;return this.commentList.forEach((function(t){var n=[];t.children&&t.children.length&&t.children.forEach((function(t){t.user_id==e.postData.user_id&&n.push(t)})),t.ownerComment=n})),this.commentList}},methods:{changeBlur:function(){this.isFocus=!1},resetFocus:function(){this.isCommentParent=!1},downloadApp:function(){this.$refs.download.open()},commentLike:function(e,t){this.$refs.download.open()},commentParents:function(e){this.commentContent="",this.commentParent=e,this.placeholder="回复@"+e.user.user_name,this.isCommentParent=!0},cancelParent:function(){this.commentContent="",this.commentParent=null,this.placeholder="发表评论...",this.isCommentParent=!1,this.isFocus=!0},findParentComment:function(e,t){var n=this;e.forEach((function(e){n.selcetComment?n.selcetComment.comment_id==e.comment_id&&e.children.unshift(t):t.commentParentId&&e.comment_id==t.commentParentId?e.children.unshift(t):e.children&&n.modify(e.children)}))},modify:function(e){var t=this;return e.map((function(e){return e.children&&t.modify(e.children),e.hasOwnProperty("like_list")&&e.like_list instanceof Array?(e.isLike=!!e.like_list.find((function(e){return e===t.userId})),e.likeListLength=e.like_list.length):(e.likeListLength=0,e.isLike=!1),e})),e},sendComment:function(){var e=this,t=(new Date).valueOf();if(0==this.lastTime)this.lastTime=t;else{if(!(t-this.lastTime>2e3))return;this.lastTime=t}if(this.commentContent.trim()){var n={post_id:this.postData.post_id,user_id:this.userId,content:this.commentContent};this.commentParent&&this.commentParent.comment_id&&(n.p_comment_id=this.commentParent.comment_id),this.$request({action:"comment/create",data:n}).then((function(t){var n={comment_id:t.data.comment_id,content:e.commentContent,children:[],like_list:[],likeListLength:0,isLike:!1,created_at:(new Date).getTime(),user:{user_id:e.userId,user_name:uni.getStorageSync("userInfo").user_name,avatar:uni.getStorageSync("userInfo").avatar},user_id:e.userId,commentParentId:e.commentParent&&e.commentParent.comment_id?e.commentParent.comment_id:""};e.selcetComment&&(n.reply=e.commentParent.user),n.commentParentId?e.findParentComment(e.commentList,n):e.commentList.unshift(n),e.$emit("addComment",n),e.commentContent="",e.cancelParent()}))}else uni.showToast({title:"评论不能为空哦~",icon:"none"})},toggle:function(e,t){this.$refs.download.open()},popupChange:function(e){this.isPopup=e.show,this.isPopup||(this.selcetComment=null,this.commentParent=null),uni.$emit("videoShow")}}};t.default=i},b5f7:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".download-footer[data-v-1e50e81e]{position:fixed;bottom:50px;left:0;right:0;margin:0 auto;width:132px;height:36px;font:700 12px PingFang SC;color:#fff;text-align:center;line-height:36px;background:#ffa926;-webkit-box-shadow:0 3px 6px rgba(190,176,153,.16);box-shadow:0 3px 6px rgba(190,176,153,.16);opacity:1;border-radius:20px}.comment-total[data-v-1e50e81e]{padding-bottom:20px;font:400 9px PingFang SC;text-align:center;color:#ffa926;opacity:1}.list-action[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?40?%}.list-action-item[data-v-1e50e81e]{margin-left:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-action-icon[data-v-1e50e81e]{width:%?32?%;height:%?28?%}.list-action-num[data-v-1e50e81e]{font:normal %?26?% Adobe Heiti Std;color:#999}.empty[data-v-1e50e81e]{height:100px;color:#bebebe;text-align:center;line-height:100px}.footer[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;bottom:0;z-index:999;height:%?132?%;width:100%;font:500 %?30?% PingFang SC;color:#999;border-top:%?1?% solid #e6e6e6;background-color:#fff}.footer-button[data-v-1e50e81e]{width:%?130?%;height:%?76?%;font-weight:700;text-align:center;line-height:%?76?%;color:#fff;background:#ff9b01;border-radius:%?15?%}.footer-input[data-v-1e50e81e]{padding:0 %?17?%;width:%?518?%;height:%?76?%;background:#f5f5f5;border-radius:%?15?%}.quote[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.quote-content[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;font:700 %?26?% PingFang SC;color:#999}.quote-content-name[data-v-1e50e81e]{margin:0 %?20?% 0 %?8?%}.quote-content-detail[data-v-1e50e81e]{font-weight:500}.quote-icon[data-v-1e50e81e]{width:%?4?%;height:%?24?%;background:#ccc}.boder[data-v-1e50e81e]{border:none}.owner[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?17?% 0;border-bottom:%?2?% solid #e6e6e6}.owner-header[data-v-1e50e81e]{padding-left:%?31?%;height:%?25?%;font:700 %?28?% PingFang SC;color:#333;line-height:%?40?%}.owner-content[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:0 0 %?21?% %?24?%;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.owner-content-total[data-v-1e50e81e]{font:500 %?24?% PingFang SC;color:#ff9b01}.owner-content-detial[data-v-1e50e81e]{margin:%?19?% 0 %?14?%;font:500 %?30?% PingFang SC;color:grey}.owner-content-reply[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?15?% %?20?%;margin-bottom:%?10?%;background:#f5f5f5;border-radius:%?5?%}.owner-content-user[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.owner-content-user .name[data-v-1e50e81e]{font:700 %?30?% PingFang SC;color:#1a1a1a}.owner-content-user .time[data-v-1e50e81e]{margin-left:%?21?%;font:500 %?24?% PingFang SC;color:#b3b3b3}.owner-left[data-v-1e50e81e]{-webkit-flex-shrink:0;flex-shrink:0;width:%?60?%;height:%?60?%;border-radius:50%}.popup-content[data-v-1e50e81e]{padding:%?30?% %?30?% %?100?%;height:%?1010?%;background:#fff;border-radius:%?15?% %?15?% %?0?% %?0?%;background-color:#fff;overflow:auto}.reply-name[data-v-1e50e81e]{font:700 %?26?% PingFang SC;color:#1a1a1a}.reply-content[data-v-1e50e81e]{margin-left:%?21?%;font:500 %?26?% PingFang SC;color:#666}.action[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font:500 %?24?% PingFang SC;color:#999}.action uni-text[data-v-1e50e81e]:not(last-child){margin-left:%?19?%}.main[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?49?% %?36?%}.main-content[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:0 0 %?21?% %?24?%;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;border-bottom:%?2?% solid #e6e6e6}.main-content-total[data-v-1e50e81e]{margin-top:%?10?%;font:500 %?24?% PingFang SC;color:#ff9b01}.main-content-detial[data-v-1e50e81e]{margin:%?19?% 0 %?14?%;font:500 %?30?% PingFang SC;color:grey}.main-content-reply[data-v-1e50e81e]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?20?%;background:#f5f5f5;border-radius:%?5?%}.main-content-user[data-v-1e50e81e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.main-content-user .name[data-v-1e50e81e]{font:700 %?30?% PingFang SC;color:#1a1a1a}.main-content-user .time[data-v-1e50e81e]{margin-left:%?21?%;font:500 %?24?% PingFang SC;color:#b3b3b3}.main-left[data-v-1e50e81e]{-webkit-flex-shrink:0;flex-shrink:0;width:%?60?%;height:%?60?%;border-radius:50%}.header[data-v-1e50e81e]{padding-left:%?31?%;height:%?86?%;font:700 %?28?% PingFang SC;color:#333;line-height:%?86?%;border-bottom:%?1?% solid #e8e8e8}.wrap[data-v-1e50e81e]{background-color:#fff}",""]),e.exports=t},d05c:function(e,t,n){"use strict";n.r(t);var i=n("6c90"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},f1d5:function(e,t,n){"use strict";var i=n("820d"),a=n.n(i);a.a}}]);